<script>
  const { log } = await import('./modules/Logger.js');

  const state = getState();
  const animal = { "id": state[0], "animal": state[1], "sound": state[2], "icon": state[3] };
  const strong = $("strong");
  strong.before(animal.icon);
  strong.innerHTML = `Beware of the ${animal.animal}!`;

  const quickDelete = $("quick-delete");
  quickDelete.state = { id: animal.id };
  $("li").appendChild(quickDelete);

  return {
    makeSound: () => log(animal.sound)
  }
</script>

<style>
  :host {
    width: 50vw;
    display: flex;
  }
  li {
    width: 100%;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  strong {
    background-color: firebrick;
    color: white;
    padding: 4px;
    text-align: center;
    flex-grow:2
  }
</style>

<template>
  <li>
    <strong onclick="this.script.makeSound()"></strong><quick-delete></quick-delete>
  </li>
</template>